- if tracks
  - tracks.each do |track|
    %div{data: { track: track.id }} 
      - if track.id.nil?
        .bg-gray.m-2.p-2
          %p
            %strong.d-block
              = track.name
            = 'by'
            = track.artist
          %audio{ controls: true }
            %source{ src: track.preview_url, type: 'audio/mp4' } 
          = link_to 'Add Song', tracks_path(track.attributes.merge(room_id: "#{@room ? @room.id : ''}")), method: :post, remote: true, data: { animate: 'fadeOut', target: 'parent' }, class: 'btn btn-primary btn-sm d-block m-2'
      - else
        .m-2.p-2.border.border-1.border-dark.position-relative
          %p
            %strong.d-block
              = track.name
            = 'by'
            = track.artist
          %audio{ controls: true }
            %source{ src: track.preview_url, type: 'audio/mp4' }    
          %i{ data: { animate: 'fadeOut', target: 'parent' }, class: 'fas fa-minus-circle text-danger position-absolute top-0 end-0 m-2',  style: 'cursor: pointer' }
- else
  %p No tracks found
